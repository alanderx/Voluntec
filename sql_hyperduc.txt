CREATE DATABASE voluntec;

CREATE TABLE usuario (
  id_usuario INT NOT NULL AUTO_INCREMENT,
  nome_usuario VARCHAR(100)  NOT NULL,
  email_usuario VARCHAR(100) NOT NULL,
  senha_usuario VARCHAR(250)  NOT NULL,
  data_nasc DATE  NOT NULL,
  cidade VARCHAR(100)  NOT NULL,
  uf VARCHAR(100)  NOT NULL,
  pais VARCHAR(100)  NOT NULL,
  is_moderador TINYINT NOT NULL,
  PRIMARY KEY (id_usuario)
);
CREATE TABLE projeto (
  id_projeto INT NOT NULL AUTO_INCREMENT,
  nm_projeto VARCHAR(45) NOT NULL,
  desc_projeto LONGTEXT NOT NULL,
  data_criacao DATETIME NOT NULL,
  id_usuario INT NOT NULL,
  FOREIGN KEY (id_usuario) REFERENCES usuario(id_usuario),
  PRIMARY KEY (`id_projeto`));

CREATE TABLE atividade(
  idAtividade INT NOT NULL,
  nm_atividade VARCHAR(45) NOT NULL,
  PRIMARY KEY (idAtividade)
 );

CREATE TABLE atividade_usuario (
  id_atv_usuario INT NOT NULL AUTO_INCREMENT,
  id_atv INT NOT NULL,
  id_usuario INT NOT NULL,
  id_projeto INT NOT NULL,
  data_comeco DATE NOT NULL,
  data_termino DATE NOT NULL,
  estado VARCHAR(45) NOT NULL,
  PRIMARY KEY (id_atv_usuario),
  FOREIGN KEY (id_usuario) REFERENCES usuario(id_usuario),
  FOREIGN KEY (id_atv)REFERENCES atividade(idAtividade),
  FOREIGN KEY (id_projeto) REFERENCES projeto(id_projeto)
);